<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            text-align: center;
            
        }
        
        h1{
            color: blue;
        }
        form{
            display: flex;
            flex-direction: column;
            width: 500px;
            margin: 0 auto;
        }
        form input{
            margin: 20px auto;
        }
    </style>
</head>
<body >
    <h1>HTML Form with javascript</h1>
    <!-- 
        To create a form dynamically with JavaScript, we can use the document.createElement method to create the element.

        Then we can use the setAttribute method to set the element attributes.

        Then we can use the appendChild method to append the elements into the parent element.Finally append the <form> element to the <body> element of the document. This example creates a Registration form.

        ** make it a reusable function
        ** the function will accept 2 parameter
            1. number ( the number of input element)
            2. an object will be passed with element properties, like 
            let elemObj = [
                {
                    "type": "text/email/password",
                    "name": "dummy_text",
                    "placeholder": "dummy_placeholder"
                },
                {
                    "type": "text/email/password",
                    "name": "dummy_text",
                    "placeholder": "dummy_placeholder"
                }
            ]
        
        ** testFunction(3, elemObj)
        ** 

        // For this write a function named 



      let  input = array["text", "email","password"] Value validation of type property
      validation: out of these three types give alert ("input is not allowed")
      let inputProperty=["type","value","placeholder"]
      if these three property are not given then alert("Not accepted");

      Note: To learn javascript as a beginner what are the obstacles and how to overcome it. Write 
      your own experience.

      *** Task: Make a function to validate the input types initially with creating
      the input. (Before running the loop) (improved Type validation )
      *** Property or Key Validation
    -->
    <script src="./helperFunc.js"></script>
    <script>
            // // Create a break line element
            // var br = document.createElement("br");
            let elemObj=[
                {
                    type:"text",
                    value:"name",
                    placeholder:"Put your Full Name Here"
                },
                
                {
                    type:"email",
                    value:"email",
                    placeholder:"Put your Email Here"
                },
                {
                    type:"text",
                    value:"Date of Birth",
                    placeholder:"Write your date of birth"

                },
                {
                    type:"password",
                    value:"password",
                    placeholder:"password"
                    

                }
            ]
            // console.log(elemObj.type);

            // Advanced validation function
            // function improvedValidation(userInput){
            //     console.log(elemObj[type]);

            // }
            // improvedValidation(...elemObj);

            function submitForm(number, elemObj){

                // get the length of the object
                let numbers = elemObj.length;
                // check the input is a number or not
                if (number != numbers){
                    alert("Numbers are not matching with number");
                }

                // property validation
                propertyValidation(elemObj)
                return;
                
                const f = document.createElement("form");
                    f.setAttribute('method', "post");
                    f.setAttribute('action', "submit.php"); 
                // let y = document.createElement("input");
                for(let x=0; x<elemObj.length; x++){
                    let typeValidated = typeValidation(elemObj[x]["type"])

                    if (!typeValidated){
                        alert("Field type not allowed!")
                        return;
                    }
                    //  var elem= elemObj[x];
                    //  console.log(elem);
                    let i = document.createElement("input");
                    // i=y;
                    i.setAttribute("type", elemObj[x]["type"]);
                    i.setAttribute("value", elemObj[x]["value"]);
                    i.setAttribute("placeholder", elemObj[x]["placeholder"]);

                    
                    // return elem;
                    f.appendChild(i);
                    // i=null;
                    
                    
                    // Type value validation Start
                    // let y = elemObj[x]["type"];
                    // console.log("y", y)

                    // if(y = elemObj[x]["type"]){
                    //     alert("Input correct data type");
                    // }
                    // Type value validation Ends
                
                }

                const s = document.createElement("input");
                    s.setAttribute('type', "submit");
                    s.setAttribute('value', "Submit");
                f.appendChild(s);
                
                document.body.appendChild(f);

                
            }
            
            submitForm(4,elemObj);



   

</script>





   

         



</body>
</html>